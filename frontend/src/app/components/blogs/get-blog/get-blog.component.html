<div class="container mt-5" *ngIf="blog">

  <!-- Title -->
  <h1 class="mb-2 text-danger">{{ blog.title }}</h1>

  <!-- Author -->
  <p class="text-muted mb-3">
    Written by <strong>{{ blog.author?.username }}</strong>
  </p>

  <!-- Separator -->
  <hr class="mb-4">

  <!-- View Mode -->
  <ng-container *ngIf="!isEditing; else editForm">
    <p class="mb-5" style="line-height: 1.8;">{{ blog.content }}</p>

    <!-- âœ… Action Buttons (only if author) -->
    <div *ngIf="isAuthor" class="mt-4">
      <button class="btn btn-primary me-2" (click)="edit()">Edit</button>
      <button class="btn btn-danger" (click)="deleteBlog()">Delete</button>
    </div>
  </ng-container>

  <!-- Edit Mode -->
  <ng-template #editForm>
    <div class="mb-3">
      <label class="form-label">Title</label>
      <input type="text" class="form-control" [(ngModel)]="editedBlog.title">
    </div>

    <div class="mb-3">
      <label class="form-label">Content</label>
      <textarea rows="6" class="form-control" [(ngModel)]="editedBlog.content"></textarea>
    </div>

    <!-- Buttons -->
    <div class="mt-4">
      <button class="btn btn-success me-2" (click)="updateBlog()">Update</button>
      <button class="btn btn-secondary" (click)="cancel()">Cancel</button>
    </div>
  </ng-template>

</div>

<!-- Loading -->
<div *ngIf="!blog" class="text-center mt-5">
  <p>Loading blog...</p>
</div>
